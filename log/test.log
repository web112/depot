  [1m[36mSQL (15.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>#<BigDecimal:333db30,'0.999E1',8(8)>, "created_at"=>Thu, 14 Jul 2011 08:30:49 UTC +00:00, "title"=>"MyString", "image_url"=>"MyString", "updated_at"=>Thu, 14 Jul 2011 08:30:49 UTC +00:00, "id"=>980190962, "description"=>"MyText"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'MyString') LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Rendered products/new.html.erb within layouts/application (125.0ms)
Completed 200 OK in 203ms (Views: 156.2ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products"
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>#<BigDecimal:46f2510,'0.999E1',8(8)>, "created_at"=>Thu, 14 Jul 2011 08:30:49 UTC +00:00, "title"=>"MyString", "image_url"=>"MyString", "updated_at"=>Thu, 14 Jul 2011 08:30:49 UTC +00:00, "id"=>980190962, "description"=>"MyText"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'MyString') AND ("products".id <> 980190962) LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "titile"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
Completed   in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Rendered products/_form.html.erb (109.4ms)
Completed 200 OK in 219ms (Views: 218.8ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products"
Completed 200 OK in 109ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "titile"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Completed   in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("description", "price", "updated_at", "created_at", "image_url", "title") VALUES ('Wibbles are fun!', 19.95, '2011-07-15 06:40:27.921875', '2011-07-15 06:40:27.921875', 'lorem.jpg', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (62.5ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 125ms (Views: 46.9ms | ActiveRecord: 78.1ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products"[0m
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "price" = 19.95, "updated_at" = '2011-07-15 06:40:28.296875', "image_url" = 'lorem.jpg', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("description", "image_url", "title", "price", "updated_at", "created_at") VALUES ('Wibbles are fun!', 'lorem.jpg', 'lorem Ipsum', 19.95, '2011-07-18 03:47:53.171875', '2011-07-18 03:47:53.171875')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 156ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (31.2ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "title" = 'lorem Ipsum', "price" = 19.95, "updated_at" = '2011-07-18 03:47:53.671875' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "updated_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-19 08:48:28.000000', '2011-07-19 08:48:28.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190962
Redirected to http://test.host/carts
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (203.1ms)
Completed 200 OK in 422ms (Views: 421.9ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts"[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "updated_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-19 08:48:29.406250', '2011-07-19 08:48:29.406250')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "created_at", "cart_id", "updated_at") VALUES (207281424, '2011-07-19 08:48:29.453125', 980190963, '2011-07-19 08:48:29.453125')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
Redirected to http://test.host/carts/980190963
Completed 302 Found in 62ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 31.2ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#index as HTML
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "product_id"=>1, "updated_at"=>Tue, 19 Jul 2011 08:48:28 UTC +00:00, "id"=>980190962, "cart_id"=>1}}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "products" ("price", "description", "title", "created_at", "updated_at", "image_url") VALUES (19.95, 'Wibbles are fun!', 'lorem Ipsum', '2011-07-19 08:48:29.890625', '2011-07-19 08:48:29.890625', 'lorem.jpg')
Redirected to http://test.host/products/980190963
Completed 302 Found in 109ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 188ms (Views: 187.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "price" = 19.95, "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum', "updated_at" = '2011-07-19 08:48:30.562500', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 31ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:49.000000', '2011-07-27 00:46:49.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (109.4ms)
Rendered carts/_cart.html.erb (140.6ms)
Completed 200 OK in 203ms (Views: 203.1ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:50.125000', '2011-07-27 00:46:50.125000')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "product_id", "updated_at", "quantity", "cart_id", "created_at") VALUES (NULL, 207281424, '2011-07-27 00:46:50.140625', 1, 980190963, '2011-07-27 00:46:50.140625')
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:50.171875', '2011-07-27 00:46:50.171875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "product_id", "updated_at", "quantity", "cart_id", "created_at") VALUES (NULL, 207281424, '2011-07-27 00:46:50.171875', 1, 980190963, '2011-07-27 00:46:50.171875')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 109ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:50.718750', '2011-07-27 00:46:50.718750')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:50.750000', '2011-07-27 00:46:50.750000')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("pay_type", "address", "updated_at", "name", "email", "created_at") VALUES ('Check', 'MyText', '2011-07-27 00:46:49.000000', 'Dave Thomas', 'dave@example.org', '2011-07-27 00:46:49.000000')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#index as HTML
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:50.937500', '2011-07-27 00:46:50.937500')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "product_id", "updated_at", "quantity", "cart_id", "created_at") VALUES (NULL, 207281424, '2011-07-27 00:46:51.062500', 1, 980190963, '2011-07-27 00:46:51.062500')
  Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 00:46:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "products" ("description", "image_url", "price", "title", "created_at", "updated_at") VALUES ('Wibbles are fun!', 'lorem.jpg', 19.95, 'lorem Ipsum', '2011-07-27 00:46:51.171875', '2011-07-27 00:46:51.171875')
Redirected to http://test.host/products/980190963
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "products" WHERE "products"."id" = 980190962
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 31.2ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  UPDATE "products" SET "description" = 'Wibbles are fun!', "image_url" = 'lorem.jpg', "price" = 19.95, "title" = 'lorem Ipsum', "updated_at" = '2011-07-27 00:46:51.421875' WHERE "products"."id" = 980190962
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 00:46:51.453125', '2011-07-27 00:46:51.453125')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:49.000000', '2011-07-27 03:57:49.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (156.3ms)
Rendered carts/_cart.html.erb (203.1ms)
Completed 200 OK in 281ms (Views: 281.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:50.218750', '2011-07-27 03:57:50.218750')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 03:57:50.250000', 980190963, '2011-07-27 03:57:50.250000', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:50.281250', '2011-07-27 03:57:50.281250')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 03:57:50.281250', 980190963, '2011-07-27 03:57:50.281250', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 141ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (31.2ms)
Completed 200 OK in 109ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:51.562500', '2011-07-27 03:57:51.562500')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:51.593750', '2011-07-27 03:57:51.593750')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 03:57:49.000000', '2011-07-27 03:57:49.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (94ms)
Date: Wed, 27 Jul 2011 11:57:51 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2f8cbfa7d8c_19814327884504f@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 125ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (156.2ms)
Completed 200 OK in 188ms (Views: 187.5ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:52.062500', '2011-07-27 03:57:52.062500')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 03:57:52.078125', 980190963, '2011-07-27 03:57:52.078125', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 03:57:49 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 03:57:52.187500', '2011-07-27 03:57:52.187500', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 03:57:52.500000', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 03:57:52.515625', '2011-07-27 03:57:52.515625')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 11:58:08 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 03:58:08.515625', '2011-07-27 03:58:08.515625')
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.6ms)
Completed 200 OK in 188ms (Views: 156.2ms | ActiveRecord: 31.2ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 11:58:08 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 03:58:08.734375', 980190963, '2011-07-27 03:58:08.734375', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 156ms (Views: 109.4ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 11:58:08 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 11:58:09 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 03:58:09.093750', 'Dave Thomas', 'dave@example.com', '2011-07-27 03:58:09.093750', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 03:58:09.093750', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (93.8ms)
Rendered notifier/order_received.text.erb (93.8ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 11:58:09 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2f8cd17de29_8681432788844d5@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 500ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 11:58:09 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 03:58:09.578125', '2011-07-27 03:58:09.578125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:19.000000', '2011-07-27 04:01:19.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.6ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 250ms (Views: 250.0ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:20.421875', '2011-07-27 04:01:20.421875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 04:01:20.437500', 980190963, '2011-07-27 04:01:20.437500', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:20.453125', '2011-07-27 04:01:20.453125')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 04:01:20.468750', 980190963, '2011-07-27 04:01:20.468750', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 109ms (Views: 93.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:21.250000', '2011-07-27 04:01:21.250000')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:21.281250', '2011-07-27 04:01:21.281250')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 04:01:19.000000', '2011-07-27 04:01:19.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (94ms)
Date: Wed, 27 Jul 2011 12:01:21 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2f8d91501bd_7781432788410dc@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 141ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (140.6ms)
Completed 200 OK in 156ms (Views: 156.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:21.656250', '2011-07-27 04:01:21.656250')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 04:01:21.671875', 980190963, '2011-07-27 04:01:21.671875', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 04:01:19 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 04:01:21.765625', '2011-07-27 04:01:21.765625', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 04:01:21.984375', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 04:01:22.000000', '2011-07-27 04:01:22.000000')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 12:01:36 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 04:01:36.406250', '2011-07-27 04:01:36.406250')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.6ms)
Completed 200 OK in 188ms (Views: 156.2ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 12:01:36 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "quantity", "created_at", "updated_at", "order_id") VALUES (980190963, 207281424, 1, '2011-07-27 04:01:36.625000', '2011-07-27 04:01:36.625000', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 93.8ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 12:01:36 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (46.9ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 15.6ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 12:01:36 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 04:01:36.937500', 'Dave Thomas', 'dave@example.com', '2011-07-27 04:01:36.937500', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 04:01:36.937500', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (46.9ms)
Rendered notifier/order_received.text.erb (62.5ms)

Sent mail to dave@example.com (141ms)
Date: Wed, 27 Jul 2011 12:01:37 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2f8da140d99_9a81432788653f1@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 391ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 12:01:37 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 04:01:37.328125', '2011-07-27 04:01:37.328125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:44.000000', '2011-07-27 05:37:44.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (125.0ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 266ms (Views: 265.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:44.921875', '2011-07-27 05:37:44.921875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:37:44.953125', 980190963, '2011-07-27 05:37:44.953125', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:44.968750', '2011-07-27 05:37:44.968750')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:37:44.984375', 980190963, '2011-07-27 05:37:44.984375', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 125ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:45.953125', '2011-07-27 05:37:45.953125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:45.984375', '2011-07-27 05:37:45.984375')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:37:44.000000', '2011-07-27 05:37:44.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (62ms)
Date: Wed, 27 Jul 2011 13:37:46 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa42ab71b_ef4143278890749@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (187.5ms)
Completed 200 OK in 234ms (Views: 234.4ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (15.6ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:46.421875', '2011-07-27 05:37:46.421875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:37:46.437500', 980190963, '2011-07-27 05:37:46.437500', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:37:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:37:46.546875', '2011-07-27 05:37:46.546875', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:37:46.796875', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:37:46.828125', '2011-07-27 05:37:46.828125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 31.2ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:38:01 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:38:01.671875', '2011-07-27 05:38:01.671875')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (171.9ms)
Completed 200 OK in 203ms (Views: 187.5ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:38:01 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:38:01.906250', 980190963, '2011-07-27 05:38:01.906250', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (31.2ms)
Completed 200 OK in 188ms (Views: 156.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:38:02 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (62.5ms)
Rendered orders/new.html.erb within layouts/application (109.4ms)
Completed 200 OK in 141ms (Views: 140.6ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:38:02 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:38:02.406250', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:38:02.406250', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:38:02.406250', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (62.5ms)
Rendered notifier/order_received.text.erb (62.5ms)

Sent mail to dave@example.com (94ms)
Date: Wed, 27 Jul 2011 13:38:02 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa43ab34a7_d201432788174f1@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 375ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:38:02 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:38:02.781250', '2011-07-27 05:38:02.781250')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:10.000000', '2011-07-27 05:41:10.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.6ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 266ms (Views: 265.6ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:11.484375', '2011-07-27 05:41:11.484375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:41:11.500000', 980190963, '2011-07-27 05:41:11.500000', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:11.546875', '2011-07-27 05:41:11.546875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:41:11.562500', 980190963, '2011-07-27 05:41:11.562500', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 141ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:12.437500', '2011-07-27 05:41:12.437500')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:12.468750', '2011-07-27 05:41:12.468750')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:41:10.000000', '2011-07-27 05:41:10.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (62ms)
Date: Wed, 27 Jul 2011 13:41:12 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa4f881b32_ce414327883621d@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (140.6ms)
Completed 200 OK in 188ms (Views: 187.5ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:12.859375', '2011-07-27 05:41:12.859375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:41:12.875000', 980190963, '2011-07-27 05:41:12.875000', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:41:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:41:12.984375', '2011-07-27 05:41:12.984375', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:41:13.234375', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:41:13.265625', '2011-07-27 05:41:13.265625')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:41:28 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:41:28.843750', '2011-07-27 05:41:28.843750')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.6ms)
Completed 200 OK in 188ms (Views: 171.9ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:41:29 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:41:29.062500', 980190963, '2011-07-27 05:41:29.062500', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:41:29 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:41:29 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:41:29.390625', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:41:29.390625', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:41:29.406250', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (31.2ms)
Rendered notifier/order_received.text.erb (46.9ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 13:41:29 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa509b34a7_998143278884043@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 391ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:41:29 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:41:29.812500', '2011-07-27 05:41:29.812500')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:10.000000', '2011-07-27 05:48:10.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (109.4ms)
Rendered carts/_cart.html.erb (125.0ms)
Completed 200 OK in 203ms (Views: 203.1ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (15.6ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 15.6ms | ActiveRecord: 31.2ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:11.484375', '2011-07-27 05:48:11.484375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "order_id", "updated_at", "created_at", "cart_id", "quantity") VALUES (207281424, NULL, '2011-07-27 05:48:11.500000', '2011-07-27 05:48:11.500000', 980190963, 1)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:11.515625', '2011-07-27 05:48:11.515625')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "order_id", "updated_at", "created_at", "cart_id", "quantity") VALUES (207281424, NULL, '2011-07-27 05:48:11.531250', '2011-07-27 05:48:11.531250', 980190963, 1)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 109ms (Views: 93.8ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:12.234375', '2011-07-27 05:48:12.234375')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:12.250000', '2011-07-27 05:48:12.250000')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("address", "email", "name", "updated_at", "created_at", "pay_type") VALUES ('MyText', 'dave@example.org', 'Dave Thomas', '2011-07-27 05:48:10.000000', '2011-07-27 05:48:10.000000', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (62ms)
Date: Wed, 27 Jul 2011 13:48:12 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa69c4c4b4_d4814327887427@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (218.8ms)
Completed 200 OK in 234ms (Views: 234.4ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:12.687500', '2011-07-27 05:48:12.687500')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "order_id", "updated_at", "created_at", "cart_id", "quantity") VALUES (207281424, NULL, '2011-07-27 05:48:12.703125', '2011-07-27 05:48:12.703125', 980190963, 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 0.0ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:48:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "image_url", "created_at", "description", "price", "title") VALUES ('2011-07-27 05:48:12.812500', 'lorem.jpg', '2011-07-27 05:48:12.812500', 'Wibbles are fun!', 19.95, 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:48:13.062500', "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "price" = 19.95, "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:48:13.078125', '2011-07-27 05:48:13.078125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:48:28 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:48:28.328125', '2011-07-27 05:48:28.328125')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 172ms (Views: 140.6ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:48:28 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:48:28.531250', 980190963, '2011-07-27 05:48:28.531250', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:48:28 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (46.9ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:48:28 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:48:28.859375', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:48:28.859375', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:48:28.859375', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (62.5ms)
Rendered notifier/order_received.text.erb (78.1ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 13:48:29 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa6ad2dc6c_85c143278870648@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 391ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:48:29 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:48:29.265625', '2011-07-27 05:48:29.265625')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:44.000000', '2011-07-27 05:50:44.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (15.6ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.6ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 250ms (Views: 250.0ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:45.375000', '2011-07-27 05:50:45.375000')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:50:45.390625', 980190963, '2011-07-27 05:50:45.390625', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:45.437500', '2011-07-27 05:50:45.437500')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:50:45.453125', 980190963, '2011-07-27 05:50:45.453125', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:46.390625', '2011-07-27 05:50:46.390625')[0m
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:46.437500', '2011-07-27 05:50:46.437500')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("address", "updated_at", "pay_type", "created_at", "email", "name") VALUES ('MyText', '2011-07-27 05:50:44.000000', 'Check', '2011-07-27 05:50:44.000000', 'dave@example.org', 'Dave Thomas')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (78ms)
Date: Wed, 27 Jul 2011 13:50:46 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa73689544_b2c14327887604f@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 188ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (140.6ms)
Completed 200 OK in 172ms (Views: 171.9ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:46.875000', '2011-07-27 05:50:46.875000')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:50:46.875000', 980190963, '2011-07-27 05:50:46.875000', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:50:44 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:50:46.984375', '2011-07-27 05:50:46.984375', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:50:47.296875', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:50:47.328125', '2011-07-27 05:50:47.328125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:51:02 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:51:02.671875', '2011-07-27 05:51:02.671875')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 172ms (Views: 156.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:51:02 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:51:02.890625', 980190963, '2011-07-27 05:51:02.890625', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (31.2ms)
Completed 200 OK in 125ms (Views: 93.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:51:03 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:51:03 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:51:03.203125', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:51:03.203125', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:51:03.203125', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (46.9ms)
Rendered notifier/order_received.text.erb (62.5ms)

Sent mail to dave@example.com (78ms)
Date: Wed, 27 Jul 2011 13:51:03 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa7477270e_99c143278882382@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 312ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:51:03 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:51:03.515625', '2011-07-27 05:51:03.515625')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:53.000000', '2011-07-27 05:51:53.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.6ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 250ms (Views: 234.4ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:53.703125', '2011-07-27 05:51:53.703125')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:51:53.718750', 980190963, '2011-07-27 05:51:53.718750', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:53.765625', '2011-07-27 05:51:53.765625')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:51:53.765625', 980190963, '2011-07-27 05:51:53.765625', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 156ms (Views: 140.6ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:54.531250', '2011-07-27 05:51:54.531250')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:54.640625', '2011-07-27 05:51:54.640625')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:51:53.000000', '2011-07-27 05:51:53.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (94ms)
Date: Wed, 27 Jul 2011 13:51:54 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa77ab34a7_5cc1432788172bc@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 203ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:55.046875', '2011-07-27 05:51:55.046875')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:51:55.062500', 980190963, '2011-07-27 05:51:55.062500', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:51:53 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:51:55.171875', '2011-07-27 05:51:55.171875', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:51:55.406250', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:51:55.421875', '2011-07-27 05:51:55.421875')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:52:10 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:52:10.406250', '2011-07-27 05:52:10.406250')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 172ms (Views: 156.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:52:10 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:52:10.625000', 980190963, '2011-07-27 05:52:10.625000', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:52:10 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:52:10 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:52:10.953125', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:52:10.953125', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:52:10.953125', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (62.5ms)
Rendered notifier/order_received.text.erb (78.1ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 13:52:11 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa78b4c4b4_92814327881739b@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 422ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:52:11 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:52:11.375000', '2011-07-27 05:52:11.375000')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (15.6ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:38.000000', '2011-07-27 05:53:38.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (140.6ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 250ms (Views: 250.0ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (15.6ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:39.562500', '2011-07-27 05:53:39.562500')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:53:39.578125', 980190963, '2011-07-27 05:53:39.578125', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:39.609375', '2011-07-27 05:53:39.609375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:53:39.625000', 980190963, '2011-07-27 05:53:39.625000', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 109ms (Views: 93.8ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 63ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:40.468750', '2011-07-27 05:53:40.468750')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:40.562500', '2011-07-27 05:53:40.562500')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:53:38.000000', '2011-07-27 05:53:38.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (62ms)
Date: Wed, 27 Jul 2011 13:53:40 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa7e498968_d281432788819d2@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:40.984375', '2011-07-27 05:53:40.984375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:53:40.984375', 980190963, '2011-07-27 05:53:40.984375', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:53:38 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:53:41.109375', '2011-07-27 05:53:41.109375', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:53:41.359375', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:53:41.375000', '2011-07-27 05:53:41.375000')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:53:56 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:53:56.250000', '2011-07-27 05:53:56.250000')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 172ms (Views: 140.6ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:53:56 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "quantity", "created_at", "cart_id", "updated_at", "order_id") VALUES (207281424, 1, '2011-07-27 05:53:56.453125', 980190963, '2011-07-27 05:53:56.453125', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:53:56 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:53:56 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:53:56.781250', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:53:56.781250', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:53:56.781250', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (78.1ms)
Rendered notifier/order_received.text.erb (93.8ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 13:53:57 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa7f522551_3a41432788370c6@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 422ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:53:57 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:53:57.203125', '2011-07-27 05:53:57.203125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:54.000000', '2011-07-27 05:54:54.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (125.0ms)
Rendered carts/_cart.html.erb (156.2ms)
Completed 200 OK in 250ms (Views: 250.0ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (15.6ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:54.968750', '2011-07-27 05:54:54.968750')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:54:55.000000', 980190963, '2011-07-27 05:54:55.000000', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:55.031250', '2011-07-27 05:54:55.031250')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:54:55.046875', 980190963, '2011-07-27 05:54:55.046875', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 0ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:55.765625', '2011-07-27 05:54:55.765625')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:55.796875', '2011-07-27 05:54:55.796875')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:54:54.000000', '2011-07-27 05:54:54.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (78ms)
Date: Wed, 27 Jul 2011 13:54:55 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa82fd59f8_ec4143278812323@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:56.218750', '2011-07-27 05:54:56.218750')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:54:56.234375', 980190963, '2011-07-27 05:54:56.234375', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:54:54 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:54:56.359375', '2011-07-27 05:54:56.359375', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 0ms
  [1m[35mSQL (15.6ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:54:56.593750', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:54:56.609375', '2011-07-27 05:54:56.609375')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:55:10 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:55:11.031250', '2011-07-27 05:55:11.031250')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.6ms)
Completed 200 OK in 188ms (Views: 171.9ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:55:11 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "product_id", "quantity", "created_at", "updated_at", "order_id") VALUES (980190963, 207281424, 1, '2011-07-27 05:55:11.250000', '2011-07-27 05:55:11.250000', NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (31.2ms)
Completed 200 OK in 125ms (Views: 93.8ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:55:11 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 15.6ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:55:11 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "name", "email", "created_at", "address", "pay_type") VALUES ('2011-07-27 05:55:11.562500', 'Dave Thomas', 'dave@example.com', '2011-07-27 05:55:11.562500', '123 The Street', 'Check')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 05:55:11.562500', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (46.9ms)
Rendered notifier/order_received.text.erb (62.5ms)

Sent mail to dave@example.com (125ms)
Date: Wed, 27 Jul 2011 13:55:11 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa83fdd40a_b20143278849027@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 406ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:55:11 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 05:55:11.968750', '2011-07-27 05:55:11.968750')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:07.000000', '2011-07-27 05:57:07.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (109.4ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 234ms (Views: 234.4ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#index as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#new as HTML
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:07.968750', '2011-07-27 05:57:07.968750')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:57:07.984375', 980190963, '2011-07-27 05:57:07.984375', 1, NULL)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:08.015625', '2011-07-27 05:57:08.015625')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:57:08.015625', 980190963, '2011-07-27 05:57:08.015625', 1, NULL)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[35mSQL (0.0ms)[0m  SELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Completed 200 OK in 125ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mLineItem Load (31.2ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 15.6ms | ActiveRecord: 31.2ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items"
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:08.656250', '2011-07-27 05:57:08.656250')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:08.687500', '2011-07-27 05:57:08.687500')[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "orders" ("updated_at", "created_at", "email", "address", "name", "pay_type") VALUES ('2011-07-27 05:57:07.000000', '2011-07-27 05:57:07.000000', 'dave@example.org', 'MyText', 'Dave Thomas', 'Check')[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Wed, 27 Jul 2011 13:57:08 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fa8b4b34a7_f68143278886069@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE "line_items"."id" = 980190962[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE "orders"."id" = 980190962
Redirected to http://test.host/orders
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:09.015625', '2011-07-27 05:57:09.015625')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "updated_at", "cart_id", "created_at", "quantity", "order_id") VALUES (207281424, '2011-07-27 05:57:09.015625', 980190963, '2011-07-27 05:57:09.015625', 1, NULL)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 05:57:07 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("updated_at", "created_at", "price", "image_url", "description", "title") VALUES ('2011-07-27 05:57:09.125000', '2011-07-27 05:57:09.125000', 19.95, 'lorem.jpg', 'Wibbles are fun!', 'lorem Ipsum')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  Processing by ProductsController#new as HTML
Rendered products/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "image_url"=>"lorem.jpg", "title"=>"lorem Ipsum", "description"=>"Wibbles are fun!"}}
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "updated_at" = '2011-07-27 05:57:09.328125', "price" = 19.95, "image_url" = 'lorem.jpg', "description" = 'Wibbles are fun!', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 0ms
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:09.343750', '2011-07-27 05:57:09.343750')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:57:23 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:23.625000', '2011-07-27 05:57:23.625000')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (156.2ms)
Completed 200 OK in 188ms (Views: 171.9ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 13:57:23 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("quantity", "product_id", "created_at", "cart_id", "order_id", "updated_at") VALUES (1, 207281424, '2011-07-27 05:57:23.859375', 980190963, NULL, '2011-07-27 05:57:23.859375')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 141ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 13:57:24 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 13:57:24 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("pay_type", "updated_at", "created_at", "email", "name", "address") VALUES ('Check', '2011-07-27 05:57:24.171875', '2011-07-27 05:57:24.171875', 'dave@example.com', 'Dave Thomas', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-27 05:57:24.171875' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (46.9ms)
Rendered notifier/order_received.text.erb (46.9ms)

Sent mail to dave@example.com (109ms)
Date: Wed, 27 Jul 2011 13:57:24 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fa8c47270e_fc414327881e4@D203b-06.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 359ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 13:57:24 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 05:57:24.531250', '2011-07-27 05:57:24.531250')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (31.2ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:10.000000', '2011-07-27 09:01:10.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (31.2ms)
Rendered carts/_cart.html.erb (171.9ms)
Completed 200 OK in 234ms (Views: 234.4ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:11.140625', '2011-07-27 09:01:11.140625')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:01:11.140625', 207281424, '2011-07-27 09:01:11.140625', 980190963, 1)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:11.171875', '2011-07-27 09:01:11.171875')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:01:11.171875', 207281424, '2011-07-27 09:01:11.171875', 980190963, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (15.6ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 156ms (Views: 140.6ms | ActiveRecord: 15.6ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (140.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:12.187500', '2011-07-27 09:01:12.187500')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:12.218750', '2011-07-27 09:01:12.218750')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "email", "pay_type", "name", "updated_at", "address") VALUES ('2011-07-27 09:01:10.000000', 'dave@example.org', 'Check', 'Dave Thomas', '2011-07-27 09:01:10.000000', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (78ms)
Date: Wed, 27 Jul 2011 17:01:12 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fd3d84c4b4_384143278879780@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 141ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (31.2ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/orders
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 46.9ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:12.500000', '2011-07-27 09:01:12.500000')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:01:12.515625', 207281424, '2011-07-27 09:01:12.515625', 980190963, 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:01:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 0ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("price", "title", "created_at", "description", "updated_at", "image_url") VALUES (19.95, 'lorem Ipsum', '2011-07-27 09:01:12.640625', 'Wibbles are fun!', '2011-07-27 09:01:12.640625', 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (15.6ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 94ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (46.9ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "title" = 'lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-27 09:01:13.031250', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:13.078125', '2011-07-27 09:01:13.078125')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1[0m
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "users" ("hashed_password", "updated_at", "created_at", "salt", "name") VALUES ('d437ee8fd4aa469b62466ba7958798f7a6ada12c1771de37f0992df38cb6b305', '2011-07-27 09:01:13.171875', '2011-07-27 09:01:13.171875', '336086760.84743497137117', 'sam')
Redirected to http://test.host/users
Completed 302 Found in 31ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = 980190962
Redirected to http://test.host/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "hashed_password" = '9b1ee0cdf78d401004033167e726d6f71f9d22e542ecce9e617f9b341f9380d7', "updated_at" = '2011-07-27 09:01:13.609375', "salt" = '362597400.695372718950691', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/users
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (15.6ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mSQL (0.0ms)[0m   SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:01:27 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:27.500000', '2011-07-27 09:01:27.500000')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 188ms (Views: 156.2ms | ActiveRecord: 15.6ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 17:01:27 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-07-27 09:01:27.703125', '2011-07-27 09:01:27.703125', 1, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 234ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 17:01:27 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 109ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 17:01:28 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "name", "updated_at", "pay_type", "email", "address") VALUES ('2011-07-27 09:01:28.062500', 'Dave Thomas', '2011-07-27 09:01:28.062500', 'Check', 'dave@example.com', '123 The Street')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 09:01:28.062500', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (31.2ms)

Sent mail to dave@example.com (62ms)
Date: Wed, 27 Jul 2011 17:01:28 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fd3e844aa2_c48143278877ea@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 266ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:01:28 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:01:28.328125', '2011-07-27 09:01:28.328125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:10.000000', '2011-07-27 09:05:10.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 47ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (31.2ms)
Rendered carts/_cart.html.erb (140.6ms)
Completed 200 OK in 188ms (Views: 187.5ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (15.6ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 0ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:10.859375', '2011-07-27 09:05:10.859375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:05:10.859375', 207281424, '2011-07-27 09:05:10.859375', 980190963, 1)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:10.890625', '2011-07-27 09:05:10.890625')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:05:10.890625', 207281424, '2011-07-27 09:05:10.890625', 980190963, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 141ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (125.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:11.781250', '2011-07-27 09:05:11.781250')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:11.812500', '2011-07-27 09:05:11.812500')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "email", "pay_type", "name", "updated_at", "address") VALUES ('2011-07-27 09:05:10.000000', 'dave@example.org', 'Check', 'Dave Thomas', '2011-07-27 09:05:10.000000', 'MyText')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (47ms)
Date: Wed, 27 Jul 2011 17:05:11 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fd4c7d59f8_89414327885535a@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 94ms
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 31.2ms | ActiveRecord: 31.2ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:12.031250', '2011-07-27 09:05:12.031250')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("order_id", "updated_at", "product_id", "created_at", "cart_id", "quantity") VALUES (NULL, '2011-07-27 09:05:12.046875', 207281424, '2011-07-27 09:05:12.046875', 980190963, 1)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 15.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (15.6ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:05:10 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "products" ("price", "title", "created_at", "description", "updated_at", "image_url") VALUES (19.95, 'lorem Ipsum', '2011-07-27 09:05:12.156250', 'Wibbles are fun!', '2011-07-27 09:05:12.156250', 'lorem.jpg')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (15.6ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 46.9ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (46.9ms)
Completed 200 OK in 78ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "price" = 19.95, "title" = 'lorem Ipsum', "description" = 'Wibbles are fun!', "updated_at" = '2011-07-27 09:05:12.515625', "image_url" = 'lorem.jpg' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:12.562500', '2011-07-27 09:05:12.562500')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "users" ("hashed_password", "updated_at", "created_at", "salt", "name") VALUES ('145f31f71e3fe151d78d06cdc56af6b5885161919900c5b8f459ffd0a71a8f07', '2011-07-27 09:05:12.640625', '2011-07-27 09:05:12.640625', '335999160.70911158708192', 'sam')
Redirected to http://test.host/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "users" WHERE "users"."id" = 980190962
Redirected to http://test.host/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "hashed_password" = 'd144bf79ad4ba78eb29e669ec0ed959201790523237ff12eabb3bc416f15bfcd', "updated_at" = '2011-07-27 09:05:13.000000', "salt" = '362365320.854810091706262', "name" = 'sam' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:05:26 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:26.796875', '2011-07-27 09:05:26.796875')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (125.0ms)
Completed 200 OK in 172ms (Views: 140.6ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 17:05:26 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at", "quantity", "order_id") VALUES (207281424, 980190963, '2011-07-27 09:05:27.000000', '2011-07-27 09:05:27.000000', 1, NULL)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (46.9ms)
Completed 200 OK in 234ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 17:05:27 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 78ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 17:05:27 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("created_at", "name", "pay_type", "updated_at", "address", "email") VALUES ('2011-07-27 09:05:27.328125', 'Dave Thomas', 'Check', '2011-07-27 09:05:27.328125', '123 The Street', 'dave@example.com')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "updated_at" = '2011-07-27 09:05:27.328125', "order_id" = 980190963 WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (15.6ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (15.6ms)

Sent mail to dave@example.com (62ms)
Date: Wed, 27 Jul 2011 17:05:27 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fd4d78583b_4a41432788698f3@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 250ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:05:27 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:05:27.578125', '2011-07-27 09:05:27.578125')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" IS NULL) LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'Programming Ruby 1.9') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'My Book Title') LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by AdminController#index as HTML
  [1m[36mUser Load (15.6ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
Rendered admin/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 63ms (Views: 46.9ms | ActiveRecord: 15.6ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  Processing by CartsController#create as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "id"=>980190962}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:42.000000', '2011-07-27 09:32:42.000000')
Redirected to http://test.host/carts/980190963
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "carts"[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  Processing by CartsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 298486374
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190962[0m
Redirected to http://test.host/
Completed 302 Found in 31ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "carts"
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
Rendered carts/_form.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (31.2ms)
Rendered carts/_cart.html.erb (156.2ms)
Completed 200 OK in 219ms (Views: 218.8ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts"
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by CartsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered carts/_form.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by CartsController#update as HTML
  Parameters: {"cart"=>{"created_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "id"=>980190962}, "id"=>"980190962"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/carts/980190962
Completed 302 Found in 16ms
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  Processing by LineItemsController#create as HTML
  Parameters: {"product_id"=>207281424}
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:43.562500', '2011-07-27 09:32:43.562500')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "line_items" ("created_at", "quantity", "cart_id", "updated_at", "order_id", "product_id") VALUES ('2011-07-27 09:32:43.562500', 1, 980190963, '2011-07-27 09:32:43.562500', NULL, 207281424)
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>207281424}
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:43.593750', '2011-07-27 09:32:43.593750')
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "quantity", "cart_id", "updated_at", "order_id", "product_id") VALUES ('2011-07-27 09:32:43.609375', 1, 980190963, '2011-07-27 09:32:43.609375', NULL, 207281424)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (0.0ms)
Rendered carts/_cart.html.erb (15.6ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Completed 200 OK in 141ms (Views: 125.0ms | ActiveRecord: 0.0ms)
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items"
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  Processing by LineItemsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mAREL (15.6ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
Redirected to http://test.host/line_items
Completed 302 Found in 16ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items"[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
Rendered line_items/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 15.6ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items"[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by LineItemsController#new as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered line_items/_form.html.erb (0.0ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by LineItemsController#update as HTML
  Parameters: {"id"=>"980190962", "line_item"=>{"created_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "quantity"=>1, "product_id"=>207281424, "updated_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "order_id"=>980190962, "id"=>980190962, "cart_id"=>nil}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."id" = 980190962 LIMIT 1
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/line_items/980190962
Completed 302 Found in 16ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (140.6ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.text.erb (0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#new as HTML
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:44.546875', '2011-07-27 09:32:44.546875')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}}
WARNING: Can't mass-assign protected attributes: id
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:44.562500', '2011-07-27 09:32:44.562500')
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "orders" ("updated_at", "address", "email", "created_at", "pay_type", "name") VALUES ('2011-07-27 09:32:42.000000', 'MyText', 'dave@example.org', '2011-07-27 09:32:42.000000', 'Check', 'Dave Thomas')
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "carts" WHERE "carts"."id" = 980190963[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)
Rendered collection (0.0ms)

Sent mail to dave@example.org (78ms)
Date: Wed, 27 Jul 2011 17:32:44 +0800
From: from@example.com
To: dave@example.org
Message-ID: <4e2fdb3c9c671_cc41432788718ef@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	
	
	We'll send you a separete email when your order ships.
Redirected to http://test.host/
Completed 302 Found in 109ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "orders"[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  Processing by OrdersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190962)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "line_items" WHERE "line_items"."id" = 980190962
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "orders" WHERE "orders"."id" = 980190962[0m
Redirected to http://test.host/orders
Completed 302 Found in 0ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "orders"
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
Rendered orders/_form.html.erb (0.0ms)
Completed 200 OK in 94ms (Views: 78.1ms | ActiveRecord: 0.0ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (15.6ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" ORDER BY created_at desc LIMIT 10 OFFSET 0
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 15.6ms)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:44.859375', '2011-07-27 09:32:44.859375')[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("created_at", "quantity", "cart_id", "updated_at", "order_id", "product_id") VALUES ('2011-07-27 09:32:44.875000', 1, 980190963, '2011-07-27 09:32:44.875000', NULL, 207281424)[0m
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (15.6ms)
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
Completed 200 OK in 16ms (Views: 15.6ms | ActiveRecord: 0.0ms)
  [1m[35mOrder Load (0.0ms)[0m  SELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by OrdersController#update as HTML
  Parameters: {"order"=>{"name"=>"Dave Thomas", "address"=>"MyText", "created_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "updated_at"=>Wed, 27 Jul 2011 09:32:42 UTC +00:00, "pay_type"=>"Check", "id"=>980190962, "email"=>"dave@example.org"}, "id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders" WHERE "orders"."id" = 980190962 LIMIT 1[0m
WARNING: Can't mass-assign protected attributes: id
Redirected to http://test.host/orders/980190962
Completed 302 Found in 16ms
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  Processing by ProductsController#create as HTML
  Parameters: {"product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "products" ("image_url", "price", "description", "updated_at", "title", "created_at") VALUES ('lorem.jpg', 19.95, 'Wibbles are fun!', '2011-07-27 09:32:45.000000', 'lorem Ipsum', '2011-07-27 09:32:45.000000')[0m
Redirected to http://test.host/products/980190963
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "products"[0m
  Processing by ProductsController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".product_id = 980190962)
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "products" WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "products"
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
Rendered products/_form.html.erb (15.6ms)
Completed 200 OK in 62ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered products/_form.html.erb (46.9ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by ProductsController#update as HTML
  Parameters: {"id"=>"980190962", "product"=>{"price"=>19.95, "title"=>"lorem Ipsum", "image_url"=>"lorem.jpg", "description"=>"Wibbles are fun!"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 980190962 ORDER BY title LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "products" WHERE ("products"."title" = 'lorem Ipsum') AND ("products".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "products" SET "image_url" = 'lorem.jpg', "price" = 19.95, "description" = 'Wibbles are fun!', "updated_at" = '2011-07-27 09:32:45.343750', "title" = 'lorem Ipsum' WHERE "products"."id" = 980190962[0m
Redirected to http://test.host/products/980190962
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/login
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT 1[0m
Redirected to http://test.host/login
Completed 302 Found in 0ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 16ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by SessionsController#new as HTML
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#create as HTML
  Parameters: {"name"=>"dave", "password"=>"[FILTERED]"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."name" = 'dave' LIMIT 1[0m
Redirected to http://test.host/admin
Completed 302 Found in 16ms
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by SessionsController#destroy as HTML
Redirected to http://test.host/
Completed 302 Found in 0ms
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("created_at", "updated_at") VALUES ('2011-07-27 09:32:45.687500', '2011-07-27 09:32:45.687500')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
Rendered carts/_cart.html.erb (0.0ms)
Completed 200 OK in 47ms (Views: 46.9ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#create as HTML
  Parameters: {"user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') LIMIT 1
  [1m[36mAREL (15.6ms)[0m  [1mINSERT INTO "users" ("hashed_password", "updated_at", "name", "created_at", "salt") VALUES ('c227955a8b8f27937b271c7746be1b9ea7b1f4a50b6c0127b9cb5d087f7604cb', '2011-07-27 09:32:45.765625', 'sam', '2011-07-27 09:32:45.765625', '373630560.181344234579425')[0m
Redirected to http://test.host/users
Completed 302 Found in 16ms
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
  Processing by UsersController#destroy as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "users" WHERE "users"."id" = 980190962[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "users"
Redirected to http://test.host/users
Completed 302 Found in 0ms
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "users"[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#edit as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Rendered users/_form.html.erb (0.0ms)
Completed 200 OK in 62ms (Views: 62.5ms | ActiveRecord: 15.6ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#index as HTML
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" ORDER BY name[0m
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#new as HTML
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
Rendered users/_form.html.erb (15.6ms)
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  Processing by UsersController#show as HTML
  Parameters: {"id"=>"980190962"}
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
Completed 200 OK in 31ms (Views: 31.2ms | ActiveRecord: 0.0ms)
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  Processing by UsersController#update as HTML
  Parameters: {"id"=>"980190962", "user"=>{"name"=>"sam", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}}
  [1m[35mUser Load (0.0ms)[0m  SELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1
  [1m[36mUser Load (0.0ms)[0m  [1mSELECT "users".* FROM "users" WHERE "users"."id" = 980190962 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT 1 FROM "users" WHERE ("users"."name" = 'sam') AND ("users".id <> 980190962) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "users" SET "hashed_password" = 'defa8807acf3b4805220c47b4b56d539232006fa92eae116a5a520c15d5d0bae', "updated_at" = '2011-07-27 09:32:46.015625', "name" = 'sam', "salt" = '351270360.130660467626146' WHERE "users"."id" = 980190962[0m
Redirected to http://test.host/users
Completed 302 Found in 16ms
  [1m[36mAREL (0.0ms)[0m  [1mDELETE FROM "line_items" WHERE 1=1[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "orders" WHERE 1=1
  [1m[36mSQL (0.0ms)[0m  [1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:32:59 +0800 2011
  Processing by StoreController#index as HTML
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" ORDER BY title[0m
  [1m[35mAREL (0.0ms)[0m  INSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:32:59.859375', '2011-07-27 09:32:59.859375')
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (140.6ms)
Completed 200 OK in 188ms (Views: 156.2ms | ActiveRecord: 0.0ms)


Started POST "/line_items" for 127.0.0.1 at Wed Jul 27 17:33:00 +0800 2011
  Processing by LineItemsController#create as JS
  Parameters: {"product_id"=>"207281424"}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE "line_items"."product_id" = 207281424 AND ("line_items".cart_id = 980190963) LIMIT 1
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "line_items" ("cart_id", "created_at", "updated_at", "order_id", "product_id", "quantity") VALUES (980190963, '2011-07-27 09:33:00.062500', '2011-07-27 09:33:00.062500', NULL, 207281424, 1)[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
Rendered line_items/_line_item.html.erb (15.6ms)
Rendered carts/_cart.html.erb (31.2ms)
  [1m[36mSQL (0.0ms)[0m  [1mSELECT SUM("line_items"."quantity") AS sum_id FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered line_items/create.js.rjs (31.2ms)
Completed 200 OK in 234ms (Views: 109.4ms | ActiveRecord: 0.0ms)
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mLineItem Load (0.0ms)[0m  SELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m


Started GET "/orders/new" for 127.0.0.1 at Wed Jul 27 17:33:00 +0800 2011
  Processing by OrdersController#new as HTML
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mSQL (0.0ms)[0m  [1mSELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
Rendered orders/_form.html.erb (46.9ms)
Rendered orders/new.html.erb within layouts/application (62.5ms)
Completed 200 OK in 94ms (Views: 78.1ms | ActiveRecord: 0.0ms)


Started POST "/orders" for 127.0.0.1 at Wed Jul 27 17:33:00 +0800 2011
  Processing by OrdersController#create as HTML
  Parameters: {"order"=>{"address"=>"123 The Street", "name"=>"Dave Thomas", "pay_type"=>"Check", "email"=>"dave@example.com"}}
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (15.6ms)[0m  INSERT INTO "orders" ("created_at", "name", "address", "email", "pay_type", "updated_at") VALUES ('2011-07-27 09:33:00.390625', 'Dave Thomas', '123 The Street', 'dave@example.com', 'Check', '2011-07-27 09:33:00.390625')
  [1m[36mAREL (0.0ms)[0m  [1mUPDATE "line_items" SET "cart_id" = NULL, "order_id" = 980190963, "updated_at" = '2011-07-27 09:33:00.406250' WHERE "line_items"."id" = 980190963[0m
  [1m[35mCart Load (0.0ms)[0m  SELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190963 LIMIT 1
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".cart_id = 980190963)[0m
  [1m[35mAREL (0.0ms)[0m  DELETE FROM "carts" WHERE "carts"."id" = 980190963
  [1m[36mProduct Load (0.0ms)[0m  [1mSELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1[0m
Rendered line_items/_line_item.text.erb (15.6ms)
Rendered notifier/order_received.text.erb (31.2ms)

Sent mail to dave@example.com (78ms)
Date: Wed, 27 Jul 2011 17:33:00 +0800
From: from@example.com
To: dave@example.com
Message-ID: <4e2fdb4c98968_95c143278891290@D303b-13.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Dear Dave Thomas
	Thank you for your recent order from The Pramgatic Store.
	
	You ordered the following items:
	
	 1 x Programming Ruby 1.9
	
	We'll send you a separete email when your order ships.
Redirected to http://www.example.com/
Completed 302 Found in 266ms


Started GET "/" for 127.0.0.1 at Wed Jul 27 17:33:00 +0800 2011
  Processing by StoreController#index as HTML
  [1m[35mProduct Load (15.6ms)[0m  SELECT "products".* FROM "products" ORDER BY title
  [1m[36mAREL (0.0ms)[0m  [1mINSERT INTO "carts" ("updated_at", "created_at") VALUES ('2011-07-27 09:33:00.671875', '2011-07-27 09:33:00.671875')[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
Rendered carts/_cart.html.erb (0.0ms)
Rendered store/index.html.erb within layouts/application (15.6ms)
Completed 200 OK in 31ms (Views: 15.6ms | ActiveRecord: 31.2ms)
  [1m[36mCart Load (0.0ms)[0m  [1mSELECT "carts".* FROM "carts" WHERE "carts"."id" = 980190964 LIMIT 1[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".cart_id = 980190964)
  [1m[36mOrder Load (0.0ms)[0m  [1mSELECT "orders".* FROM "orders"[0m
  [1m[35mSQL (0.0ms)[0m  SELECT COUNT(*) FROM "line_items" WHERE ("line_items".order_id = 980190963)
  [1m[36mLineItem Load (0.0ms)[0m  [1mSELECT "line_items".* FROM "line_items" WHERE ("line_items".order_id = 980190963)[0m
  [1m[35mProduct Load (0.0ms)[0m  SELECT "products".* FROM "products" WHERE "products"."id" = 207281424 ORDER BY title LIMIT 1
